"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.waitForTransaction = waitForTransaction;
const errors_1 = require("../../errors");
async function waitForTransaction(publicClient, hash) {
    const operationName = 'waitForTransaction';
    try {
        const receipt = await publicClient.waitForTransactionReceipt({ hash });
        if (receipt.status === 'reverted') {
            throw new Error(`Transaction reverted`);
        }
        return receipt;
    }
    catch (error) {
        if (error instanceof errors_1.Errors.NitroliteError)
            throw error;
        throw new errors_1.Errors.TransactionError(operationName, error, { hash });
    }
}
